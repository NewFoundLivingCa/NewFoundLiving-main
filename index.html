<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Rental Application - Newfound Living</title>
  <link rel="icon" type="image/png" sizes="32x32" href="/Logos/tinylogo1.png" />
  <link rel="stylesheet" href="styles.css" />
  <style>
    :root { --nav-semi: rgba(0,0,0,0.70); --nav-overlay: rgba(0,0,0,0.96); --white:#fff; }

    body { margin:0; font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif; color:#fff; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
    .container { max-width:980px; margin:0 auto; padding:1.6rem; box-sizing:border-box; }
    .logo { display:block; margin:1rem auto; max-width:220px; }

    .navbar-minimal { position:relative; z-index:1200; padding:.6em 0; background:var(--nav-semi); box-shadow:0 2px 12px rgba(0,0,0,0.15); width:100%; }
    .nav-center { max-width:980px; margin:0 auto; display:flex; align-items:center; justify-content:space-between; gap:12px; padding:0 12px; box-sizing:border-box; }

    .nav-left { display:flex; align-items:center; gap:10px; }
    .nav-left img { height:34px; width:auto; display:block; }

    .nav-links { display:flex; gap:12px; list-style:none; margin:0; padding:0; }
    .nav-links a { color:var(--white); text-decoration:none; padding:8px 12px; border-radius:8px; background: rgba(255,255,255,0.06); font-weight:600; }
    .nav-links a.active { background:#256D67; }

    .nav-toggle { display:none; background:transparent; border:none; padding:8px; border-radius:8px; cursor:pointer; }
    .hamburger { width:22px; height:2px; background:var(--white); position:relative; display:block; border-radius:2px; }
    .hamburger::before, .hamburger::after { content:""; position:absolute; left:0; width:100%; height:2px; background:var(--white); border-radius:2px; }
    .hamburger::before { top:-7px } .hamburger::after { top:7px }
    .nav-toggle.open .hamburger { background:transparent } .nav-toggle.open .hamburger::before { transform:rotate(45deg); top:0 } .nav-toggle.open .hamburger::after { transform:rotate(-45deg); top:0 }

    .mobile-menu-wrap { display:none; }
    .mobile-menu { display:flex; flex-direction:column; gap:0; width:100vw; position:absolute; left:0; right:0; top:100%; box-sizing:border-box; z-index:1150; }
    .mobile-menu a { display:block; padding:16px 18px; font-weight:700; font-size:18px; color:var(--white); text-decoration:none; background:var(--nav-overlay); border-bottom:1px solid rgba(255,255,255,0.04); }

    @media (max-width:760px) {
      .nav-links { display:none; }
      .nav-toggle { display:inline-flex; }
      .mobile-menu-wrap.hidden { display:none; } .mobile-menu-wrap.visible { display:block; max-height:70vh; overflow:auto; -webkit-overflow-scrolling:touch; }
    }

    /* Basic form layout falls back to styles.css; small helpers here */
    fieldset.form-section { margin-bottom:2rem; }
  </style>
</head>
<body>
  <nav class="navbar-minimal" role="navigation" aria-label="Main navigation">
    <div class="nav-center">
      <div class="nav-left">
        <!-- tiny logo present on non-index pages -->
        <a href="index.html" aria-label="Home"><img src="Logos/tinylogo1.png" alt="NewFound tiny logo"></a>
      </div>

      <ul class="nav-links" role="menubar">
        <li><a role="menuitem" href="index.html" class="nav-link">Home</a></li>
        <li><a role="menuitem" href="rental-application.html" class="nav-link active">Application</a></li>
        <li><a role="menuitem" href="about.html" class="nav-link">About</a></li>
      </ul>

      <button class="nav-toggle" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu">
        <span class="hamburger" aria-hidden="true"></span>
      </button>
    </div>

    <div id="mobile-menu" class="mobile-menu-wrap hidden" aria-hidden="true">
      <nav class="mobile-menu" role="menu" aria-label="Mobile menu">
        <a role="menuitem" href="index.html">Home</a>
        <a role="menuitem" href="rental-application.html" class="active">Application</a>
        <a role="menuitem" href="about.html">About</a>
      </nav>
    </div>
  </nav>

  <main>
    <div class="container">
      <img src="Logos/logo-transparent.png" alt="Newfound Living Logo" class="logo">
      <h1>Rental Application</h1>

      <form id="rental-form" action="https://formspree.io/f/xldnwbqq" method="POST" enctype="multipart/form-data">
        <fieldset class="form-section">
          <label for="full-name">Full Name</label>
          <input type="text" id="full-name" name="full_name" required />
          <label for="email">Email</label>
          <input type="email" id="email" name="email_address" required />
          <label for="phone">Phone Number</label>
          <input type="tel" id="phone" name="phone_number" required />
          <label for="current-address">Current Address</label>
          <input type="text" id="current-address" name="current_address" required />
          <label for="landlord-name">Current Landlord Name</label>
          <input type="text" id="landlord-name" name="landlord_name" />
          <label for="landlord-contact">Landlord Contact (Phone or Email)</label>
          <input type="text" id="landlord-contact" name="landlord_contact" />
        </fieldset>

        <fieldset class="form-section">
          <h2>Property Details</h2>
          <label for="property-address">Property Address</label>
          <input type="text" id="property-address" name="property_address" required placeholder="e.g., 123 Main St" />
          <label for="move-in-date">Desired Move-in Date</label>
          <input type="date" id="move-in-date" name="move_in_date" required />
          <label for="term">Lease Term</label>
          <select id="term" name="lease_term">
            <option value="">Select</option>
            <option value="12 months">12 months</option>
            <option value="month-to-month">Month-to-month</option>
          </select>
        </fieldset>

        <fieldset class="form-section">
          <h2>Employment / Income</h2>
          <label for="employer-name">Employer Name</label>
          <input type="text" id="employer-name" name="employer_name" required />
          <label for="proof-income"><strong>Proof of Income / Financial Assistance</strong></label>
          <label for="proof-income" class="custom-file-upload">
            <span class="file-upload-text">Choose File</span>
            <input type="file" id="proof-income" name="proof_income" accept=".pdf,.jpg,.png,.jpeg,.doc,.docx,.heic,.webp" />
          </label>
          <span class="file-name" id="file-name">No file chosen</span>
        </fieldset>

        <!-- other form sections preserved (pets, occupants, references, declaration) -->
        <fieldset class="form-section">
          <h2>PETS</h2>
          <div class="pets-center-block">
            <label class="pets-question-label">Do you have pets?</label>
            <div class="pet-radio-group pets-radio-center">
              <label class="pet-radio">
                <input type="radio" name="pets" value="Yes" class="yes" />
                <span class="radio-square yes"><span class="check-icon">&#10003;</span></span>
                <span class="pet-label">Yes</span>
              </label>
              <label class="pet-radio">
                <input type="radio" name="pets" value="No" class="no" />
                <span class="radio-square no"><span class="x-icon">&#10007;</span></span>
                <span class="pet-label">No</span>
              </label>
            </div>
          </div>
          <label for="pet-type">Type(s) of pet(s)</label>
          <input type="text" id="pet-type" name="pet_type" placeholder="e.g., Dog, Cat, etc." />
          <label for="pet-number">How many pets?</label>
          <input type="number" id="pet-number" name="pet_number" min="0" />
          <label for="pet-details">Description (breed, age, etc.)</label>
          <textarea id="pet-details" name="pet_details" placeholder="Describe your pets"></textarea>
        </fieldset>

        <fieldset class="form-section">
          <h2>Other Details</h2>
          <label>Additional Occupants</label>
          <div id="occupants-list">
            <div class="occupant-fields">
              <input type="text" name="occupant_name_1" placeholder="Name" />
              <input type="number" name="occupant_age_1" placeholder="Age" min="0" />
              <input type="tel" name="occupant_phone_1" placeholder="Phone Number" />
            </div>
          </div>
          <button type="button" class="btn-mini" id="add-occupant"><span class="plus-symbol">+</span> Add Occupant</button>

          <label>References</label>
          <div id="references-list">
            <div class="reference-fields">
              <input type="text" name="reference_name_1" placeholder="Name" />
              <input type="tel" name="reference_phone_1" placeholder="Phone Number" />
              <input type="text" name="reference_relationship_1" placeholder="Relationship" />
            </div>
          </div>
          <button type="button" class="btn-mini" id="add-reference"><span class="plus-symbol">+</span> Add Reference</button>

          <label for="emergency-contact">Emergency Contact Name</label>
          <input type="text" id="emergency-contact" name="emergency_contact" />
          <label for="emergency-phone">Emergency Contact Phone</label>
          <input type="tel" id="emergency-phone" name="emergency_phone" />
          <label for="other-info">Any other information you'd like to provide?</label>
          <textarea id="other-info" name="other_info"></textarea>
        </fieldset>

        <fieldset class="form-section">
          <h2>Declaration</h2>
          <p class="declaration-text">I declare that the information provided is true and complete. I authorize Newfound Living to verify this application.</p>
          <label for="applicant-signature">Signature</label>
          <input type="text" id="applicant-signature" name="applicant_signature" required />
          <label for="applicant-signature-date">Date</label>
          <input type="date" id="applicant-signature-date" name="applicant_signature_date" required />
        </fieldset>

        <div class="form-actions" style="text-align:center; margin-bottom:2rem;">
          <button type="submit" class="btn-submit">Submit Application</button>
        </div>
      </form>
    </div>
  </main>

  <footer style="max-width:980px;margin:2rem auto;padding:1rem;text-align:center;color:#fff;">
    <div>Locally owned and operated in St. John's & surrounding areas</div>
  </footer>

  <script>
    // Per-page mobile menu behavior
    (function () {
      const toggle = document.querySelector('.nav-toggle');
      const wrap = document.getElementById('mobile-menu');
      if (!toggle || !wrap) return;

      function open() { toggle.classList.add('open'); toggle.setAttribute('aria-expanded','true'); wrap.classList.remove('hidden'); wrap.classList.add('visible'); wrap.setAttribute('aria-hidden','false'); const f = wrap.querySelector('a'); if (f) f.focus(); }
      function close(returnFocus=true) { toggle.classList.remove('open'); toggle.setAttribute('aria-expanded','false'); wrap.classList.remove('visible'); wrap.classList.add('hidden'); wrap.setAttribute('aria-hidden','true'); if (returnFocus) toggle.focus(); }

      toggle.addEventListener('click', () => { if (wrap.classList.contains('visible')) close(); else open(); });
      toggle.addEventListener('keydown', (e) => { if (e.key==='Enter'||e.key===' ') { e.preventDefault(); toggle.click(); } if (e.key==='Escape') close(); });

      wrap.addEventListener('click', (e) => { if (e.target.closest('a')) close(false); });
      window.addEventListener('resize', () => { if (window.innerWidth > 760) close(false); });
    })();

    // File input filename display
    (function () {
      const proofInput = document.getElementById('proof-income');
      const fileNameSpan = document.getElementById('file-name');
      if (proofInput && fileNameSpan) {
        proofInput.addEventListener('change', function() { fileNameSpan.textContent = this.files[0] ? this.files[0].name : 'No file chosen'; });
      }
    })();

    // Add occupant/reference fields
    (function () {
      const addOccupant = document.getElementById('add-occupant');
      const addReference = document.getElementById('add-reference');
      if (addOccupant) {
        addOccupant.addEventListener('click', function () {
          const list = document.getElementById('occupants-list');
          const count = list.children.length + 1;
          const div = document.createElement('div');
          div.className = 'occupant-fields';
          div.innerHTML = `<input type="text" name="occupant_name_${count}" placeholder="Name" /><input type="number" name="occupant_age_${count}" placeholder="Age" min="0" /><input type="tel" name="occupant_phone_${count}" placeholder="Phone Number" />`;
          list.appendChild(div);
        });
      }
      if (addReference) {
        addReference.addEventListener('click', function () {
          const list = document.getElementById('references-list');
          const count = list.children.length + 1;
          const div = document.createElement('div');
          div.className = 'reference-fields';
          div.innerHTML = `<input type="text" name="reference_name_${count}" placeholder="Name" /><input type="tel" name="reference_phone_${count}" placeholder="Phone Number" /><input type="text" name="reference_relationship_${count}" placeholder="Relationship" />`;
          list.appendChild(div);
        });
      }
    })();
  </script>
</body>
</html>
