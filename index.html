<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NewFound Living — Home</title>
  <link rel="icon" type="image/png" sizes="32x32" href="Logos/tinylogo1.png" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <nav class="navbar-minimal" role="navigation" aria-label="Main navigation">
    <div class="nav-center">
      <div class="nav-left-placeholder" aria-hidden="true"></div>

      <ul class="nav-links" role="menubar">
        <li><a href="index.html" class="nav-link active" role="menuitem">Home</a></li>
        <li><a href="rental-application.html" class="nav-link" role="menuitem">Application</a></li>
        <li><a href="about.html" class="nav-link" role="menuitem">About</a></li>
      </ul>

      <button class="nav-toggle" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu">
        <span class="hamburger" aria-hidden="true"></span>
      </button>
    </div>

    <div id="mobile-menu" class="mobile-menu-wrap hidden" aria-hidden="true">
      <nav class="mobile-menu" role="menu" aria-label="Mobile menu">
        <a role="menuitem" href="index.html">Home</a>
        <a role="menuitem" href="rental-application.html">Application</a>
        <a role="menuitem" href="about.html">About</a>
      </nav>
    </div>
  </nav>

  <main>
    <div class="container">

      <!-- Intro panel: logo above the intro copy, centered -->
      <section class="intro-panel" aria-label="Welcome to Newfound Living">
        <img src="Logos/logo-transparent.png" alt="Newfound Living Logo" class="intro-logo">

        <div class="intro" aria-label="About Newfound Living">
          <p class="intro-text">
            Welcome to <strong>Newfound Living</strong> — a locally owned rental company based in Newfoundland.
            We take pride in offering clean, comfortable homes that people are proud to live in.
            All our properties are personally owned and maintained, ensuring quality, trust, and quick communication with the owner.
          </p>
          <p class="intro-text">
            Explore our available rentals below or submit a rental application directly through our website.
            Your next home might be closer than you think.
          </p>
        </div>
      </section>
      <!-- /Intro panel -->

      <h1 class="centered-title">For Rent — 16 Carlow Place (Main Floor Unit)</h1>

      <section class="rental-listing" aria-labelledby="listing-title">
        <div id="listing-top" class="listing-top">
          <p class="available"><strong>Available November 1st</strong></p>
          <p class="listing-announcement">We listened — price updated for this bright, family friendly main-floor unit. Preview the space below.</p>
        </div>

        <!-- Carousel (autoplay removed) -->
        <div class="carousel-wrap" aria-label="Property slideshow">
          <button class="carousel-arrow carousel-arrow-left" aria-label="Previous slide">❮</button>

          <div class="carousel-main" role="region" aria-label="Current slide">
            <img id="carouselImage" src="16carlowmain/Bathroom Main.jpg" alt="Main slide" tabindex="0">
            <div class="carousel-caption">
              <div class="caption-title">16 Carlow Place — Main Floor</div>
              <div class="caption-sub">3 bed · 1.5 bath · Family friendly</div>
            </div>
          </div>

          <button class="carousel-arrow carousel-arrow-right" aria-label="Next slide">❯</button>

          <div class="carousel-thumbs" role="list" aria-label="Slide thumbnails">
            <img src="16carlowmain/Bathroom Main.jpg" alt="Bathroom Main" data-index="0" role="listitem">
            <img src="16carlowmain/Half Bath.jpg" alt="Half Bath" data-index="1" role="listitem">
            <img src="16carlowmain/Kitchen 1.jpg" alt="Kitchen 1" data-index="2" role="listitem">
            <img src="16carlowmain/Kitchen 2.jpg" alt="Kitchen 2" data-index="3" role="listitem">
            <img src="16carlowmain/Kitchen 3.jpg" alt="Kitchen 3" data-index="4" role="listitem">
            <img src="16carlowmain/Living Room 1.jpg" alt="Living Room 1" data-index="5" role="listitem">
            <img src="16carlowmain/Living Room 2.jpg" alt="Living Room 2" data-index="6" role="listitem">
            <img src="16carlowmain/Main Far.jpg" alt="Main Far" data-index="7" role="listitem">
            <img src="16carlowmain/Main Outside.jpg" alt="Main Outside" data-index="8" role="listitem">
            <img src="16carlowmain/Rec Room 2.jpg" alt="Rec Room 2" data-index="9" role="listitem">
            <img src="16carlowmain/Rec Room.jpg" alt="Rec Room" data-index="10" role="listitem">
            <img src="16carlowmain/Room 1.jpg" alt="Room 1" data-index="11" role="listitem">
            <img src="16carlowmain/Room 2.jpg" alt="Room 2" data-index="12" role="listitem">
            <img src="16carlowmain/Room 3.jpg" alt="Room 3" data-index="13" role="listitem">
          </div>
        </div>

        <!-- Details -->
        <div class="listing-details">
          <ul class="features-list" aria-label="Property features">
            <li><strong>3 Bedrooms</strong> — fresh paint; flooring updated before move-in.</li>
            <li><strong>1.5 Bathrooms</strong> — modern fixtures and bright lighting.</li>
            <li><strong>In-unit washer & dryer</strong> — convenience included.</li>
            <li><strong>Updated kitchen</strong> — dishwasher, fridge & stove included.</li>
            <li><strong>Fenced backyard</strong> — safe space for kids and pets.</li>
            <li><strong>Parking for 2 vehicles</strong> + 8×12 storage shed.</li>
            <li><strong>Transit & play areas</strong> — quick bus access, two nearby playgrounds.</li>
            <li><strong>Pet friendly</strong> — pets considered with approval.</li>
          </ul>

          <div class="price-row" aria-live="polite">
            <strong>
              <span class="original-price">$2,100/month (P.O.U.)</span>
              <span class="price-badge">Reduced — Now $1,950/month (P.O.U.)</span>
            </strong>
          </div>

          <p class="deposit-note">1/2 month rent deposit required</p>
          <p class="lease-note">Flexible lease: Month-to-Month or 1 Year</p>

          <div class="cta-row">
            <a class="contact-us-btn" href="mailto:info.newfoundliving@gmail.com?subject=Rental Inquiry: 16 Carlow Place">Contact Us</a>
          </div>
        </div>
      </section>
    </div>
  </main>

  <a class="floating-contact" href="mailto:info.newfoundliving@gmail.com?subject=General Inquiry" aria-label="Contact Newfound Living">Contact</a>

  <!-- Modal / Lightbox -->
  <div id="galleryModal" class="modal" aria-hidden="true" role="dialog" aria-label="Image gallery">
    <div class="lightbox" role="document">
      <div class="lightbox-main" role="region" aria-label="Image viewer">
        <button class="close" aria-label="Close gallery" onclick="closeModal()">×</button>
        <button class="lb-btn lb-prev" aria-label="Previous image" onclick="prevImage()">❮</button>
        <button class="lb-btn lb-next" aria-label="Next image" onclick="nextImage()">❯</button>
        <button id="slideshowToggle" class="slideshow-toggle" aria-pressed="false" title="Toggle slideshow">▶</button>
        <img id="modalImg" src="" alt="">
      </div>
      <div class="lightbox-thumbs" id="thumbStrip" aria-label="Image thumbnails"></div>
    </div>
  </div>

  <footer class="site-footer" role="contentinfo">
    <div class="footer-row">
      <div class="email-link">
        <img class="icon" src="https://img.icons8.com/ios-filled/50/ffffff/new-post.png" alt="Email icon" />
        <a href="mailto:info.newfoundliving@gmail.com">info.newfoundliving@gmail.com</a>
      </div>
      <div class="social-link">
        <img class="icon" src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Facebook logo" />
        <a href="https://www.facebook.com/profile.php?id=61577097797242" target="_blank" rel="noopener">Visit our Facebook page</a>
      </div>
    </div>
    <div class="privacy">We never share or sell your information. Your privacy is important to us.</div>
  </footer>

  <script>
  // Mobile menu (unchanged)
  (function () {
    const toggle = document.querySelector('.nav-toggle');
    const wrap = document.getElementById('mobile-menu');
    if (!toggle || !wrap) return;
    function open(){ toggle.classList.add('open'); toggle.setAttribute('aria-expanded','true'); wrap.classList.remove('hidden'); wrap.classList.add('visible'); wrap.setAttribute('aria-hidden','false'); const f = wrap.querySelector('a'); if(f) f.focus(); }
    function close(){ toggle.classList.remove('open'); toggle.setAttribute('aria-expanded','false'); wrap.classList.remove('visible'); wrap.classList.add('hidden'); wrap.setAttribute('aria-hidden','true'); toggle.focus(); }
    toggle.addEventListener('click', ()=> { if(wrap.classList.contains('visible')) close(); else open(); });
    toggle.addEventListener('keydown', (e)=> { if(e.key==='Enter' || e.key===' ') { e.preventDefault(); toggle.click(); } if(e.key==='Escape') close(); });
    wrap.addEventListener('click', (e)=> { if(e.target.closest('a')) close(); });
    window.addEventListener('resize', ()=> { if(window.innerWidth > 760) close(); });
  })();

  // Carousel and thumbnails (start on 'Main Outside' if present)
  (function () {
    const wrap = document.querySelector('.carousel-wrap');
    if (!wrap) return;
    const mainImg = document.getElementById('carouselImage');
    const thumbs = Array.from(document.querySelectorAll('.carousel-thumbs img'));
    const leftBtn = document.querySelector('.carousel-arrow-left');
    const rightBtn = document.querySelector('.carousel-arrow-right');

    const gallery = thumbs.map(t => ({ src: t.src, alt: t.alt }));
    let current = 0;
    function show(i) {
      if (!gallery.length || !mainImg) return;
      i = (i + gallery.length) % gallery.length;
      const it = gallery[i];
      mainImg.src = it.src;
      mainImg.alt = it.alt || `Image ${i+1}`;
      current = i;
      thumbs.forEach((t, idx) => t.classList.toggle('active', idx === i));
    }
    function prev() { show(current - 1); }
    function next() { show(current + 1); }

    if (leftBtn) leftBtn.addEventListener('click', prev);
    if (rightBtn) rightBtn.addEventListener('click', next);

    thumbs.forEach((t, i) => {
      t.tabIndex = 0;
      t.addEventListener('click', () => show(i));
      t.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); t.click(); } });
    });

    if (mainImg) {
      mainImg.addEventListener('click', () => { if (typeof window.openModalAtIndex === 'function') window.openModalAtIndex(current); });
    }

    wrap.tabIndex = 0;
    wrap.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') { e.preventDefault(); prev(); }
      if (e.key === 'ArrowRight') { e.preventDefault(); next(); }
    });

    // Prefer "Main Outside.jpg" to start
    try {
      const preferredIdx = thumbs.findIndex(t => {
        const src = (t.getAttribute('src') || '').toLowerCase();
        const alt = (t.getAttribute('alt') || '').toLowerCase();
        return src.includes('main outside') || src.includes('main_outside') || src.includes('main-outside') || alt.includes('main outside');
      });
      if (preferredIdx >= 0) show(preferredIdx); else show(0);
    } catch (err) {
      show(0);
    }
  })();

  // Lightbox (unchanged)
  (function () {
    const gallerySelector = '.carousel-thumbs img';
    const galleryImgs = Array.from(document.querySelectorAll(gallerySelector));
    const modal = document.getElementById('galleryModal');
    const modalImg = document.getElementById('modalImg');
    const thumbStrip = document.getElementById('thumbStrip');
    const slideshowToggle = document.getElementById('slideshowToggle');
    const prevBtn = document.querySelector('.lb-prev');
    const nextBtn = document.querySelector('.lb-next');
    if (!modal) return;

    let idx = 0, autoplay = false, autoplayInterval = null, DELAY = 3000;

    function buildThumbs() {
      if (!thumbStrip) return;
      thumbStrip.innerHTML = '';
      galleryImgs.forEach((imgEl, i) => {
        const t = document.createElement('img');
        t.src = imgEl.src;
        t.alt = imgEl.alt || ('Image ' + (i + 1));
        t.dataset.index = i;
        t.tabIndex = 0;
        t.addEventListener('click', () => showImage(i));
        t.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); showImage(i); } });
        thumbStrip.appendChild(t);
      });
    }
    function setActiveThumb(i) {
      if (!thumbStrip) return;
      const thumbs = Array.from(thumbStrip.querySelectorAll('img'));
      thumbs.forEach((t, j) => t.classList.toggle('active', j === i));
    }
    function showImage(i) {
      const img = galleryImgs[i];
      if (!img) return;
      modalImg.src = img.src; modalImg.alt = img.alt || ('Image ' + (i + 1)); idx = i; setActiveThumb(idx);
    }
    window.openModalAtIndex = function (i) {
      if (!galleryImgs.length) return;
      idx = (typeof i === 'number') ? i : 0;
      buildThumbs(); showImage(idx);
      modal.style.display = 'flex'; modal.setAttribute('aria-hidden','false'); document.body.style.overflow = 'hidden';
      if (prevBtn) prevBtn.focus();
    };
    window.closeModal = function () {
      if (autoplayInterval) { clearInterval(autoplayInterval); autoplayInterval = null; autoplay = false; slideshowToggle.textContent = '▶'; slideshowToggle.setAttribute('aria-pressed','false'); }
      modal.style.display = 'none'; modal.setAttribute('aria-hidden','true'); document.body.style.overflow = '';
    };
    window.prevImage = function () { if (!galleryImgs.length) return; showImage((idx - 1 + galleryImgs.length) % galleryImgs.length); };
    window.nextImage = function () { if (!galleryImgs.length) return; showImage((idx + 1) % galleryImgs.length); };
    function startAuto() { if (autoplayInterval) return; autoplay = true; slideshowToggle.textContent = '⏸'; slideshowToggle.setAttribute('aria-pressed','true'); autoplayInterval = setInterval(() => window.nextImage(), DELAY); }
    function stopAuto() { autoplay = false; slideshowToggle.textContent = '▶'; slideshowToggle.setAttribute('aria-pressed','false'); if (autoplayInterval) { clearInterval(autoplayInterval); autoplayInterval = null; } }

    if (slideshowToggle) slideshowToggle.addEventListener('click', () => autoplay ? stopAuto() : startAuto());
    if (prevBtn) prevBtn.addEventListener('click', () => window.prevImage());
    if (nextBtn) nextBtn.addEventListener('click', () => window.nextImage());
    if (modal) modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
    document.addEventListener('keydown', (e) => {
      if (modal.style.display === 'flex') {
        if (e.key === 'Escape') closeModal();
        else if (e.key === 'ArrowLeft') window.prevImage();
        else if (e.key === 'ArrowRight') window.nextImage();
      }
    });
  })();
  </script>
</body>
</html>
