<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Rental Application - Newfound Living</title>
  <link rel="icon" type="image/png" sizes="32x32" href="/Logos/tinylogo1.png" />
  <link rel="stylesheet" href="styles.css" />

  <style>
    /* Navbar styles (solid black desktop, mobile hamburger) */
    .navbar-minimal { position:relative; z-index:2000; padding:8px 12px; background:#000; color:#fff; }
    .nav-center { max-width:980px; margin:0 auto; display:flex; align-items:center; gap:12px; position:relative; }

    .nav-toggle { display:none; align-items:center; justify-content:center; width:44px; height:44px; background:transparent; border:none; cursor:pointer; padding:6px; border-radius:8px; }
    .nav-toggle:focus { outline:2px solid rgba(255,255,255,0.12); outline-offset:2px; }

    .hamburger { width:22px; height:2px; background:#fff; position:relative; display:block; border-radius:2px; transition:transform .22s, background .22s; }
    .hamburger::before, .hamburger::after { content:""; position:absolute; left:0; width:100%; height:2px; background:#fff; border-radius:2px; transition:transform .22s, top .22s, background .22s; }
    .hamburger::before { top:-7px } .hamburger::after { top:7px }

    .nav-toggle.open .hamburger { background:transparent }
    .nav-toggle.open .hamburger::before { transform:rotate(45deg); top:0; background:#fff }
    .nav-toggle.open .hamburger::after { transform:rotate(-45deg); top:0; background:#fff }
    .nav-toggle.open { background:#000 }

    .nav-links { list-style:none; margin:0; padding:0; display:flex; gap:12px; align-items:center; }
    .nav-links a { color:#fff; text-decoration:none; padding:6px 8px; border-radius:6px; display:inline-block; font-weight:600; }
    .nav-links a:hover, .nav-links a:focus { background:rgba(255,255,255,0.06) }
    .nav-links a.active { background:#111 }

    @media (max-width:760px) {
      .nav-toggle { display:inline-flex; }
      .nav-links { display:none; flex-direction:column; gap:6px; position:absolute; left:12px; right:12px; top:56px; padding:12px; background:#000; border-radius:8px; box-shadow:0 8px 36px rgba(0,0,0,0.45); }
      .nav-toggle.open + .nav-links { display:flex; }
    }

    /* Basic form layout tweaks (kept minimal; main styles in styles.css) */
    .container { max-width:980px; margin:0 auto; padding:1.6rem; color:#fff; }
    .logo { display:block; margin:1rem auto; max-width:180px; }
  </style>
</head>
<body>
  <nav class="navbar-minimal">
    <div class="nav-center">
      <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false" aria-controls="main-nav">
        <span class="hamburger" aria-hidden="true"></span>
      </button>
      <ul id="main-nav" class="nav-links" role="menubar">
        <li role="none"><a role="menuitem" href="index.html" class="nav-link">Home</a></li>
        <li role="none"><a role="menuitem" href="rental-application.html" class="nav-link active">Application</a></li>
        <li role="none"><a role="menuitem" href="about.html" class="nav-link">About</a></li>
      </ul>
    </div>
  </nav>

  <div class="container rental-container">
    <img src="Logos/logo-transparent.png" alt="Newfound Living Logo" class="logo">
    <h1>Rental Application</h1>

    <form id="rental-form" action="https://formspree.io/f/xldnwbqq" method="POST" enctype="multipart/form-data">
      <fieldset class="form-section">
        <label for="full-name">Full Name</label>
        <input type="text" id="full-name" name="full_name" required />
        <label for="email">Email</label>
        <input type="email" id="email" name="email_address" required />
        <label for="phone">Phone Number</label>
        <input type="tel" id="phone" name="phone_number" required />
        <label for="current-address">Current Address</label>
        <input type="text" id="current-address" name="current_address" required />
        <label for="landlord-name">Current Landlord Name</label>
        <input type="text" id="landlord-name" name="landlord_name" />
        <label for="landlord-contact">Landlord Contact (Phone or Email)</label>
        <input type="text" id="landlord-contact" name="landlord_contact" />
      </fieldset>

      <fieldset class="form-section">
        <h2>Property Details</h2>
        <label for="property-address">Property Address</label>
        <input type="text" id="property-address" name="property_address" required placeholder="e.g., 123 Main St" />
        <label for="move-in-date">Desired Move-in Date</label>
        <input type="date" id="move-in-date" name="move_in_date" required />
        <label for="term">Lease Term</label>
        <select id="term" name="lease_term">
          <option value="">Select</option>
          <option value="12 months">12 months</option>
          <option value="month-to-month">Month-to-month</option>
        </select>
      </fieldset>

      <fieldset class="form-section">
        <h2>Employment / Income</h2>
        <label for="employer-name">Employer Name</label>
        <input type="text" id="employer-name" name="employer_name" required />
        <label for="proof-income"><strong>Proof of Income / Financial Assistance</strong></label>
        <label for="proof-income" class="custom-file-upload">
          <span class="file-upload-text">Choose File</span>
          <input type="file" id="proof-income" name="proof_income" accept=".pdf,.jpg,.png,.jpeg,.doc,.docx,.heic,.webp" />
        </label>
        <span class="file-name" id="file-name">No file chosen</span>
      </fieldset>

      <fieldset class="form-section">
        <h2>PETS</h2>
        <div class="pets-center-block">
          <label class="pets-question-label">Do you have pets?</label>
          <div class="pet-radio-group pets-radio-center">
            <label class="pet-radio">
              <input type="radio" name="pets" value="Yes" class="yes" />
              <span class="radio-square yes"><span class="check-icon">&#10003;</span></span>
              <span class="pet-label">Yes</span>
            </label>
            <label class="pet-radio">
              <input type="radio" name="pets" value="No" class="no" />
              <span class="radio-square no"><span class="x-icon">&#10007;</span></span>
              <span class="pet-label">No</span>
            </label>
          </div>
        </div>
        <label for="pet-type">Type(s) of pet(s)</label>
        <input type="text" id="pet-type" name="pet_type" placeholder="e.g., Dog, Cat, etc." />
        <label for="pet-number">How many pets?</label>
        <input type="number" id="pet-number" name="pet_number" min="0" />
        <label for="pet-details">Description (breed, age, etc.)</label>
        <textarea id="pet-details" name="pet_details" placeholder="Describe your pets"></textarea>
      </fieldset>

      <fieldset class="form-section">
        <h2>Other Details</h2>
        <label>Additional Occupants</label>
        <div id="occupants-list">
          <div class="occupant-fields">
            <input type="text" name="occupant_name_1" placeholder="Name" />
            <input type="number" name="occupant_age_1" placeholder="Age" min="0" />
            <input type="tel" name="occupant_phone_1" placeholder="Phone Number" />
          </div>
        </div>
        <button type="button" class="btn-mini" id="add-occupant"><span class="plus-symbol">+</span> Add Occupant</button>

        <label>References</label>
        <div id="references-list">
          <div class="reference-fields">
            <input type="text" name="reference_name_1" placeholder="Name" />
            <input type="tel" name="reference_phone_1" placeholder="Phone Number" />
            <input type="text" name="reference_relationship_1" placeholder="Relationship" />
          </div>
        </div>
        <button type="button" class="btn-mini" id="add-reference"><span class="plus-symbol">+</span> Add Reference</button>

        <label for="emergency-contact">Emergency Contact Name</label>
        <input type="text" id="emergency-contact" name="emergency_contact" />
        <label for="emergency-phone">Emergency Contact Phone</label>
        <input type="tel" id="emergency-phone" name="emergency_phone" />
        <label for="other-info">Any other information you'd like to provide?</label>
        <textarea id="other-info" name="other_info"></textarea>
      </fieldset>

      <fieldset class="form-section">
        <h2>Declaration</h2>
        <p class="declaration-text">I declare that the information provided is true and complete. I authorize Newfound Living to verify this application.</p>
        <label for="applicant-signature">Signature</label>
        <input type="text" id="applicant-signature" name="applicant_signature" required />
        <label for="applicant-signature-date">Date</label>
        <input type="date" id="applicant-signature-date" name="applicant_signature_date" required />
      </fieldset>

      <div class="form-actions">
        <button type="submit" class="btn-submit">Submit Application</button>
      </div>
    </form>
  </div>

  <footer>
    <div>Locally owned and operated in St. John's & surrounding areas</div>
    <div class="email-link"><img src="https://img.icons8.com/ios-filled/50/ffffff/new-post.png" alt="Email icon" /> <a href="mailto:info.newfoundliving@gmail.com">info.newfoundliving@gmail.com</a></div>
    <div class="social-link"><img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Facebook logo" /> <a href="https://www.facebook.com/profile.php?id=61577097797242" target="_blank" rel="noopener">Visit our Facebook page</a></div>
  </footer>

  <script>
  (function(){
    const navToggle = document.querySelector('.nav-toggle');
    const navLinks = document.querySelector('.nav-links');
    if (!navToggle || !navLinks) return;

    navToggle.setAttribute('aria-expanded','false');

    function openMenu(){ navToggle.classList.add('open'); navToggle.setAttribute('aria-expanded','true'); const first = navLinks.querySelector('a'); if(first) first.focus();}
    function closeMenu(returnFocus=true){ navToggle.classList.remove('open'); navToggle.setAttribute('aria-expanded','false'); if(returnFocus) navToggle.focus();}

    navToggle.addEventListener('click', ()=>{ if(navToggle.classList.contains('open')) closeMenu(); else openMenu(); });
    navToggle.addEventListener('keydown', (e)=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); navToggle.click(); } else if(e.key==='Escape') closeMenu(); });

    navLinks.querySelectorAll('a').forEach(a=> a.addEventListener('click', ()=>{ if(getComputedStyle(navToggle).display!=='none' && navToggle.classList.contains('open')) closeMenu(false); }));
    window.addEventListener('resize', ()=>{ if(window.innerWidth>760){ navToggle.classList.remove('open'); navToggle.setAttribute('aria-expanded','false'); } });
  })();
  </script>

  <script>
    // file input filename display + dynamic occupant/reference adders
    const proofInput = document.getElementById('proof-income');
    const fileNameSpan = document.getElementById('file-name');
    if (proofInput && fileNameSpan) {
      proofInput.addEventListener('change', function(){ fileNameSpan.textContent = this.files[0] ? this.files[0].name : 'No file chosen'; });
    }
    document.getElementById('add-occupant').onclick = function(){
      const list = document.getElementById('occupants-list'); const count = list.children.length + 1;
      const div = document.createElement('div'); div.className='occupant-fields';
      div.innerHTML = `<input type="text" name="occupant_name_${count}" placeholder="Name" /><input type="number" name="occupant_age_${count}" placeholder="Age" min="0" /><input type="tel" name="occupant_phone_${count}" placeholder="Phone Number" />`;
      list.appendChild(div);
    };
    document.getElementById('add-reference').onclick = function(){
      const list = document.getElementById('references-list'); const count = list.children.length + 1;
      const div = document.createElement('div'); div.className='reference-fields';
      div.innerHTML = `<input type="text" name="reference_name_${count}" placeholder="Name" /><input type="tel" name="reference_phone_${count}" placeholder="Phone Number" /><input type="text" name="reference_relationship_${count}" placeholder="Relationship" />`;
      list.appendChild(div);
    };
  </script>
</body>
</html>
